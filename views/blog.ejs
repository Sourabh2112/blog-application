<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLOG</title>
    <!-- <link href="navbar.css" rel="stylesheet"> -->
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap");

        *,
        *::before,
        *::after {
            box-sizing: border-box;
            padding: 0;
            margin: 0;
        }

        body {
            font-family: "Quicksand", sans-serif;
            display: grid;
            place-items: center;
            height: 100vh;
            background: #7f7fd5;
            background: linear-gradient(to right, #91eae4, #86a8e7, #7f7fd5);
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 1200px;
            margin-block: 2rem;
            gap: 2rem;
            padding: 2rem;
        }

        img {
            max-width: 100%;
            display: block;
            object-fit: cover;
        }

        .card {
            display: flex;
            flex-direction: column;
            width: clamp(20rem, calc(20rem + 2vw), 22rem);
            overflow: hidden;
            box-shadow: 0 .1rem 1rem rgba(0, 0, 0, 0.1);
            border-radius: 1em;
            background: #ECE9E6;
            background: linear-gradient(to right, #FFFFFF, #ECE9E6);

        }

        .card__body {
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: .5rem;
        }

        .tag {
            align-self: flex-start;
            padding: .25em .75em;
            border-radius: 1em;
            font-size: .75rem;
        }

        .tag+.tag {
            margin-left: .5em;
        }

        .tag-blue {
            background: #56CCF2;
            background: linear-gradient(to bottom, #2F80ED, #56CCF2);
            color: #fafafa;
        }

        .tag-brown {
            background: #D1913C;
            background: linear-gradient(to bottom, #FFD194, #D1913C);
            color: #fafafa;
        }

        .tag-red {
            background: #cb2d3e;
            background: linear-gradient(to bottom, #ef473a, #cb2d3e);
            color: #fafafa;
        }

        .card__body h4 {
            font-size: 1.5rem;
            text-transform: capitalize;
        }

        .card__footer {
            display: flex;
            padding: 1rem;
            margin-top: auto;
        }

        .user {
            display: flex;
            gap: .5rem;
        }

        .user__image {
            border-radius: 50%;
        }

        .user__info>small {
            color: #666;
        }

        body {
            margin: 0px;
            font-family: Arial, sans-serif;
        }

        .navbar {
            background-color: #5f6e99;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            width: 100%;
            /* Set the width to 100% */
        }

        .navbar-left {
            display: flex;
            align-items: center;
        }

        .navbar-right {
            display: flex;
            align-items: center;
        }

        .navbar a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
        }

        .create-blog {
            background-color: #3f5ee6;
            padding: 10px 15px;
            border: none;
            color: white;
            cursor: pointer;
        }

        .logout-btn {
            background-color: #d9534f;
            padding: 10px 15px;
            border: none;
            color: white;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div class="navbar">
        <div class="navbar-left">
            <a href="/addBlog" class="create-blog" id="createBlogLink">Create</a>
        </div>
        <div class="navbar-right">
            <a href="/blog" class="user-option">User</a>
            <form method="POST" action="/api/user/logout">
                <button class="logout-btn" id="logoutBtn">Log Out</button>
            </form>
        </div>
    </div>
    <div class="container">
        <% if (blogs && blogs.length> 0) { %>
            <% blogs.forEach((blog, index)=> { %>
                <div class="card">
                    <div class="card__header">
                        <img src="https://source.unsplash.com/600x400/?computer" alt="card_image" class="card_image"
                            width="600">
                    </div>
                    <div class="card__body">
                        <span class="tag tag-blue">Technology</span>
                        <h4>
                            <%= blog.title %>
                        </h4>
                        <p>
                            <%= blog.description %>
                        </p>
                    </div>
                    <div class="card__footer">
                        <div class="user">
                            <img src="https://i.pravatar.cc/40?img=1" alt="user_image" class="user_image">
                            <div class="user__info">
                                <h5>
                                    <%= blog.user %>
                                </h5>
                                <small>2h ago</small>
                            </div>
                        </div>
                    </div>
                </div>
                <% }); %>
                    <% } else { %>
                        <p>No blogs available.</p>
                        <% } %>
    </div>
    <!-- <script>
        document.getElementById('createBlogLink').addEventListener('click', function () {
            alert('Rendering Create Blog Page');
            return res.render("/addBlog");
        });

        document.getElementById('logoutBtn').addEventListener('click', function () {
            alert('Logging Out');
            res.clearCookie("uid").status(204).json({ msg: "logout successfull" });
            return res.redirect("/login")
        });
    </script> -->
</body>

</html>